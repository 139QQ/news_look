<template>
  <div class="visibility-test">
    <!-- åŸºç¡€å¯è§æ€§æµ‹è¯• -->
    <div class="test-section">
      <h1 style="color: red; font-size: 24px; background: yellow; padding: 10px;">
        ğŸ”¥ å¦‚æœä½ èƒ½çœ‹åˆ°è¿™ä¸ªçº¢è‰²æ–‡å­—ï¼Œè¯´æ˜é¡µé¢åŸºç¡€æ¸²æŸ“æ­£å¸¸
      </h1>
    </div>

    <!-- å…ƒç´ å®šä½æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0; padding: 20px; border: 3px solid blue; background: lightblue;">
      <h2>ğŸ“ å…ƒç´ å®šä½æµ‹è¯•</h2>
      <p>è¿™æ˜¯ä¸€ä¸ªè“è‰²è¾¹æ¡†çš„æµ‹è¯•åŒºåŸŸ</p>
      
      <!-- ç»å¯¹å®šä½æµ‹è¯• -->
      <div style="position: relative; height: 100px; background: lightgray; margin: 10px 0;">
        <div style="position: absolute; top: 10px; left: 10px; background: red; color: white; padding: 5px;">
          ç»å¯¹å®šä½å…ƒç´  (top: 10px, left: 10px)
        </div>
        <div style="position: absolute; top: 10px; right: 10px; background: green; color: white; padding: 5px;">
          ç»å¯¹å®šä½å…ƒç´  (top: 10px, right: 10px)
        </div>
      </div>
    </div>

    <!-- CSS æ ·å¼æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>ğŸ¨ CSS æ ·å¼æµ‹è¯•</h2>
      
      <!-- é€æ˜åº¦æµ‹è¯• -->
      <div style="margin: 10px 0;">
        <div style="opacity: 1; background: green; color: white; padding: 10px; margin: 5px 0;">
          é€æ˜åº¦ opacity: 1 (åº”è¯¥å¯è§)
        </div>
        <div style="opacity: 0.5; background: orange; color: white; padding: 10px; margin: 5px 0;">
          é€æ˜åº¦ opacity: 0.5 (åŠé€æ˜)
        </div>
        <div style="opacity: 0.1; background: red; color: white; padding: 10px; margin: 5px 0;">
          é€æ˜åº¦ opacity: 0.1 (å‡ ä¹ä¸å¯è§)
        </div>
      </div>
      
      <!-- æ˜¾ç¤ºå±æ€§æµ‹è¯• -->
      <div style="margin: 10px 0;">
        <div style="display: block; background: purple; color: white; padding: 10px; margin: 5px 0;">
          display: block (åº”è¯¥å¯è§)
        </div>
        <div style="display: inline-block; background: teal; color: white; padding: 10px; margin: 5px 0;">
          display: inline-block (åº”è¯¥å¯è§)
        </div>
        <div style="visibility: visible; background: navy; color: white; padding: 10px; margin: 5px 0;">
          visibility: visible (åº”è¯¥å¯è§)
        </div>
      </div>
    </div>

    <!-- Z-index å±‚çº§æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>ğŸ“š Z-index å±‚çº§æµ‹è¯•</h2>
      <div style="position: relative; height: 150px; background: lightgray;">
        <div style="position: absolute; top: 20px; left: 20px; width: 100px; height: 80px; background: red; z-index: 1; display: flex; align-items: center; justify-content: center; color: white;">
          Z-index: 1
        </div>
        <div style="position: absolute; top: 40px; left: 40px; width: 100px; height: 80px; background: blue; z-index: 2; display: flex; align-items: center; justify-content: center; color: white;">
          Z-index: 2
        </div>
        <div style="position: absolute; top: 60px; left: 60px; width: 100px; height: 80px; background: green; z-index: 3; display: flex; align-items: center; justify-content: center; color: white;">
          Z-index: 3
        </div>
      </div>
    </div>

    <!-- Element Plus ç»„ä»¶æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>ğŸ§© Element Plus ç»„ä»¶æµ‹è¯•</h2>
      <el-alert title="å¦‚æœä½ èƒ½çœ‹åˆ°è¿™ä¸ªè­¦å‘Šæ¡†ï¼Œè¯´æ˜ Element Plus æ­£å¸¸å·¥ä½œ" type="success" show-icon />
      
      <div style="margin: 10px 0;">
        <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
        <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
        <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
        <el-button type="danger">å±é™©æŒ‰é’®</el-button>
      </div>
      
      <el-card style="margin: 10px 0;">
        <template #header>
          <span>å¡ç‰‡æ ‡é¢˜</span>
        </template>
        <p>è¿™æ˜¯ä¸€ä¸ª Element Plus å¡ç‰‡ç»„ä»¶çš„å†…å®¹åŒºåŸŸ</p>
      </el-card>
    </div>

    <!-- å“åº”å¼æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>ğŸ“± å“åº”å¼æµ‹è¯•</h2>
      <div class="responsive-test">
        <div class="desktop-only">æ¡Œé¢ç«¯æ˜¾ç¤º (min-width: 768px)</div>
        <div class="mobile-only">ç§»åŠ¨ç«¯æ˜¾ç¤º (max-width: 767px)</div>
      </div>
    </div>

    <!-- JavaScript äº¤äº’æµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>âš¡ JavaScript äº¤äº’æµ‹è¯•</h2>
      <el-button @click="testClick" type="primary">ç‚¹å‡»æµ‹è¯• (è®¡æ•°: {{ clickCount }})</el-button>
      <p>å½“å‰æ—¶é—´: {{ currentTime }}</p>
    </div>

    <!-- æ§åˆ¶å°è¾“å‡ºæµ‹è¯• -->
    <div class="test-section" style="margin: 20px 0;">
      <h2>ğŸ–¥ï¸ æ§åˆ¶å°æµ‹è¯•</h2>
      <el-button @click="logToConsole" type="info">è¾“å‡ºæµ‹è¯•ä¿¡æ¯åˆ°æ§åˆ¶å°</el-button>
      <p style="color: #666; font-size: 14px;">
        ç‚¹å‡»æŒ‰é’®åï¼Œè¯·æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Console é¢æ¿æŸ¥çœ‹è¾“å‡º
      </p>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue'

// å“åº”å¼æ•°æ®
const clickCount = ref(0)
const currentTime = ref('')
let timeTimer = null

// ç‚¹å‡»æµ‹è¯•
const testClick = () => {
  clickCount.value++
  console.log('ğŸ–±ï¸ æŒ‰é’®è¢«ç‚¹å‡»ï¼Œå½“å‰è®¡æ•°:', clickCount.value)
}

// æ§åˆ¶å°è¾“å‡ºæµ‹è¯•
const logToConsole = () => {
  console.log('ğŸ” === å¯è§æ€§æµ‹è¯•è°ƒè¯•ä¿¡æ¯ ===')
  console.log('âœ… JavaScript æ­£å¸¸æ‰§è¡Œ')
  console.log('ğŸ“Š å½“å‰é¡µé¢ä¿¡æ¯:', {
    url: window.location.href,
    title: document.title,
    viewport: `${window.innerWidth}x${window.innerHeight}`,
    userAgent: navigator.userAgent
  })
  console.log('ğŸ¨ Element Plus ç»„ä»¶çŠ¶æ€:', {
    elementPlusLoaded: !!window.ElementPlus,
    vueVersion: '3.x'
  })
  console.log('ğŸ” DOM å…ƒç´ æ£€æŸ¥:')
  
  // æ£€æŸ¥ä¸»è¦å®¹å™¨
  const testContainer = document.querySelector('.visibility-test')
  if (testContainer) {
    console.log('âœ… æµ‹è¯•å®¹å™¨æ‰¾åˆ°:', {
      width: testContainer.offsetWidth,
      height: testContainer.offsetHeight,
      display: getComputedStyle(testContainer).display,
      visibility: getComputedStyle(testContainer).visibility,
      opacity: getComputedStyle(testContainer).opacity
    })
  } else {
    console.error('âŒ æµ‹è¯•å®¹å™¨æœªæ‰¾åˆ°')
  }
  
  console.log('ğŸ” === è°ƒè¯•ä¿¡æ¯ç»“æŸ ===')
}

// æ›´æ–°æ—¶é—´
const updateTime = () => {
  currentTime.value = new Date().toLocaleString()
}

// ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  console.log('ğŸš€ å¯è§æ€§æµ‹è¯•é¡µé¢å·²æŒ‚è½½')
  updateTime()
  timeTimer = setInterval(updateTime, 1000)
  
  // è‡ªåŠ¨è¾“å‡ºè°ƒè¯•ä¿¡æ¯
  setTimeout(() => {
    logToConsole()
  }, 1000)
})

onUnmounted(() => {
  if (timeTimer) {
    clearInterval(timeTimer)
  }
})
</script>

<style scoped>
.visibility-test {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.test-section {
  margin-bottom: 30px;
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #fafafa;
}

.test-section h2 {
  margin-bottom: 15px;
  color: #333;
}

.responsive-test {
  display: flex;
  gap: 20px;
}

.desktop-only {
  background: #e7f3ff;
  padding: 10px;
  border: 2px solid #409eff;
  border-radius: 4px;
}

.mobile-only {
  background: #fff2e7;
  padding: 10px;
  border: 2px solid #e6a23c;
  border-radius: 4px;
  display: none;
}

@media (max-width: 767px) {
  .desktop-only {
    display: none;
  }
  
  .mobile-only {
    display: block;
  }
  
  .responsive-test {
    flex-direction: column;
  }
}

/* å¼ºåˆ¶å¯è§æ ·å¼ï¼Œé¿å…è¢«å…¶ä»–æ ·å¼è¦†ç›– */
.visibility-test * {
  box-sizing: border-box;
}
</style> 